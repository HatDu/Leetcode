#### [面试题 01.07. 旋转矩阵](https://leetcode-cn.com/problems/rotate-matrix-lcci/)

难度中等111

给你一幅由 `N × N` 矩阵表示的图像，其中每个像素的大小为 4 字节。请你设计一种算法，将图像旋转 90 度。

不占用额外内存空间能否做到？

 

**示例 1:**

```
给定 matrix = 
[
  [1,2,3],
  [4,5,6],
  [7,8,9]
],

原地旋转输入矩阵，使其变为:
[
  [7,4,1],
  [8,5,2],
  [9,6,3]
]
```

**示例 2:**

```
给定 matrix =
[
  [ 5, 1, 9,11],
  [ 2, 4, 8,10],
  [13, 3, 6, 7],
  [15,14,12,16]
], 

原地旋转输入矩阵，使其变为:
[
  [15,13, 2, 5],
  [14, 3, 4, 1],
  [12, 6, 8, 9],
  [16, 7,10,11]
]
```

通过次数31,394

提交次数40,676



**思路：**

旋转90度相当于将原来矩阵首先按照副对角线翻转，在按照行的中心轴进行翻转。

```
给定 matrix = 
[
  [1,2,3],
  [4,5,6],
  [7,8,9]
],
沿副对角线翻转：
[
  [9,6,3],
  [8,5,2],
  [7,4,1],
]
沿行的中心线进行翻转:
[
  [7,4,1],
  [8,5,2],
  [9,6,3]
]
```

可以直接在原数组双进行操交换操作。

- 沿反斜对角线需要交换位置的下标：`[1,j]`与`[n-i-1,n-j-1]`
- 沿行的中心线进行翻转需要交换的位置下标：`[i,j]`与`[n-i-1,j]`



**时间复杂度：**
$$
O(n^2)
$$
**代码：**

```java
class Solution {
    public void rotate(int[][] matrix) {
        if(matrix ==  null || matrix.length < 1 || matrix.length != matrix[0].length){
            return;
        }
        int N = matrix.length;
        // 沿着副对角线进行翻转
        for(int i = 0; i < N; ++i){
            for(int j = 0; j < N-i-1; ++j){
                swap(matrix, i, j, N-j-1, N-i-1);
            }
        }

        // 沿着行中心线进行翻转
        for(int i = 0; i < N/2; ++i){
            for(int j = 0; j < N; ++j){
                swap(matrix, i, j, N-i-1, j);
            }
        }
    }

    public void swap(int[][] m, int i1, int j1, int i2, int j2){
        int tmp = m[i1][j1];
        m[i1][j1] = m[i2][j2];
        m[i2][j2] = tmp;
    }
}
```

